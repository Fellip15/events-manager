{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Felip/Desktop/tokenlab/frontend/src/Screens/myNotes.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { register } from \"../Actions/userActions\";\nimport { useCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyNotes() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [cookies, setCookie, removeCookie] = useCookies(['user']);\n  const [currState, setState] = useState({\n    'events': [],\n    'pulledEvents': false\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!cookies.user) {\n      navigate(\"/login\");\n    } else {\n      axios.post(\"http://localhost:5300/api/users/token\", {\n        token: cookies.user\n      }).then(res => {\n        setEmail(res.data.email);\n        setId(res.data.id);\n      });\n    }\n  });\n  if (!currState.pulledEvents) pullEvents();\n\n  function pullEvents() {\n    console.log(\"Pulling events\");\n    axios.get(\"http://localhost:5300/mynotes/\" + id.toString()).then(res => {\n      let events = res['data'];\n      let stateCopy = JSON.parse(JSON.stringify(currState));\n      stateCopy.events = events;\n      stateCopy.pulledEvents = true;\n      setState(stateCopy);\n    });\n  }\n\n  function listas() {\n    return currState['listas'].map(lista => /*#__PURE__*/_jsxDEV(Lista, {\n      lista: lista,\n      refresh: changePulledList\n    }, lista._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 49\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"MyNotesNody\",\n    children: [\"OLA \", email, \" tudo bem? \", id]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyNotes, \"N58ce0SbIKi/t6cFOk1ZuciRWf8=\", false, function () {\n  return [useCookies, useNavigate];\n});\n\n_c = MyNotes;\nexport default MyNotes;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyNotes\");","map":{"version":3,"names":["axios","Link","useNavigate","useState","useEffect","register","useCookies","MyNotes","email","setEmail","id","setId","cookies","setCookie","removeCookie","currState","setState","navigate","user","post","token","then","res","data","pulledEvents","pullEvents","console","log","get","toString","events","stateCopy","JSON","parse","stringify","listas","map","lista","changePulledList","_id"],"sources":["/mnt/c/Users/Felip/Desktop/tokenlab/frontend/src/Screens/myNotes.js"],"sourcesContent":["import axios from \"axios\";\nimport { Link, useNavigate  } from \"react-router-dom\"\nimport { useState, useEffect } from 'react'\nimport { register } from \"../Actions/userActions\";\nimport { useCookies } from \"react-cookie\";\n\nfunction MyNotes() {\n    const [email, setEmail] = useState(\"\");\n    const [id, setId] = useState(\"\");\n    const [cookies, setCookie, removeCookie] = useCookies(['user']);\n\n    const [currState, setState] = useState({ 'events' : [], 'pulledEvents' : false });\n\n    const navigate = useNavigate ();\n    useEffect(() => {\n        if (!cookies.user) {\n            navigate(\"/login\");\n        } else {\n            axios.post(\"http://localhost:5300/api/users/token\", {token: cookies.user})\n            .then(res => {\n                setEmail(res.data.email);\n                setId(res.data.id);\n            });\n        }\n    })\n\n    if (!currState.pulledEvents) pullEvents();\n\n    function pullEvents() {\n        console.log(\"Pulling events\");\n        axios.get(\"http://localhost:5300/mynotes/\" + id.toString())\n        .then(res => {\n            let events = res['data'];\n            let stateCopy = JSON.parse(JSON.stringify(currState));\n            stateCopy.events = events;\n            stateCopy.pulledEvents = true;\n\n            setState(stateCopy);\n        })\n    }\n\n    function listas() {\n        return currState['listas'].map(lista => <Lista key={lista._id} lista={lista} refresh={changePulledList}/>)\n    }\n\n    return (\n    <div className=\"MyNotesNody\">\n        OLA {email} tudo bem? {id}\n    </div>\n    );\n}\n\nexport default MyNotes;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,WAAf,QAAmC,kBAAnC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;;;AAEA,SAASC,OAAT,GAAmB;EAAA;;EACf,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,EAAD,EAAKC,KAAL,IAAcR,QAAQ,CAAC,EAAD,CAA5B;EACA,MAAM,CAACS,OAAD,EAAUC,SAAV,EAAqBC,YAArB,IAAqCR,UAAU,CAAC,CAAC,MAAD,CAAD,CAArD;EAEA,MAAM,CAACS,SAAD,EAAYC,QAAZ,IAAwBb,QAAQ,CAAC;IAAE,UAAW,EAAb;IAAiB,gBAAiB;EAAlC,CAAD,CAAtC;EAEA,MAAMc,QAAQ,GAAGf,WAAW,EAA5B;EACAE,SAAS,CAAC,MAAM;IACZ,IAAI,CAACQ,OAAO,CAACM,IAAb,EAAmB;MACfD,QAAQ,CAAC,QAAD,CAAR;IACH,CAFD,MAEO;MACHjB,KAAK,CAACmB,IAAN,CAAW,uCAAX,EAAoD;QAACC,KAAK,EAAER,OAAO,CAACM;MAAhB,CAApD,EACCG,IADD,CACMC,GAAG,IAAI;QACTb,QAAQ,CAACa,GAAG,CAACC,IAAJ,CAASf,KAAV,CAAR;QACAG,KAAK,CAACW,GAAG,CAACC,IAAJ,CAASb,EAAV,CAAL;MACH,CAJD;IAKH;EACJ,CAVQ,CAAT;EAYA,IAAI,CAACK,SAAS,CAACS,YAAf,EAA6BC,UAAU;;EAEvC,SAASA,UAAT,GAAsB;IAClBC,OAAO,CAACC,GAAR,CAAY,gBAAZ;IACA3B,KAAK,CAAC4B,GAAN,CAAU,mCAAmClB,EAAE,CAACmB,QAAH,EAA7C,EACCR,IADD,CACMC,GAAG,IAAI;MACT,IAAIQ,MAAM,GAAGR,GAAG,CAAC,MAAD,CAAhB;MACA,IAAIS,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAenB,SAAf,CAAX,CAAhB;MACAgB,SAAS,CAACD,MAAV,GAAmBA,MAAnB;MACAC,SAAS,CAACP,YAAV,GAAyB,IAAzB;MAEAR,QAAQ,CAACe,SAAD,CAAR;IACH,CARD;EASH;;EAED,SAASI,MAAT,GAAkB;IACd,OAAOpB,SAAS,CAAC,QAAD,CAAT,CAAoBqB,GAApB,CAAwBC,KAAK,iBAAI,QAAC,KAAD;MAAuB,KAAK,EAAEA,KAA9B;MAAqC,OAAO,EAAEC;IAA9C,GAAYD,KAAK,CAACE,GAAlB;MAAA;MAAA;MAAA;IAAA,QAAjC,CAAP;EACH;;EAED,oBACA;IAAK,SAAS,EAAC,aAAf;IAAA,mBACS/B,KADT,iBAC2BE,EAD3B;EAAA;IAAA;IAAA;IAAA;EAAA,QADA;AAKH;;GA5CQH,O;UAGsCD,U,EAI1BJ,W;;;KAPZK,O;AA8CT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}