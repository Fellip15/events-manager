{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Felip/Desktop/tokenlab/events-manager/frontend/src/Screens/registerPage.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { Link, Navigate } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { useCookies } from \"react-cookie\";\nimport Navbar from \"../Components/navbar\";\nimport \"./css/registerPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RegisterPage() {\n  _s();\n\n  const [message, setMessage] = useState(null);\n  const [cookies, setCookie] = useCookies([\"user\"]);\n\n  const cadastrar = async e => {\n    e.preventDefault();\n    let email = document.querySelector(\"#email\").value;\n    let password = document.querySelector(\"#senha\").value;\n    let confirmpassword = document.querySelector(\"#senhaConf\").value;\n    if (!email || !password) return setMessage(\"Dados insuficientes\");\n    ;\n\n    if (password !== confirmpassword) {\n      setMessage(\"As senhas são diferentes\");\n      return;\n    }\n\n    await axios.post(\"http://localhost:5300/api/users/cadastrar\", {\n      email: email,\n      password: password\n    }).then(res => {\n      setCookie('user', res.data.token.toString());\n    }).catch(e => {\n      setMessage(e.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cookies.user && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/myEvents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"RegisterPageBody\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: cadastrar,\n        className: \"register-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cadastrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          type: \"email\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Senha:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"senha\",\n          type: \"password\",\n          placeholder: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Senha de confirma\\xE7\\xE3o:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"senhaConf\",\n          type: \"password\",\n          placeholder: \"confirm password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Cadastrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"register-link-login\",\n          children: \"J\\xE1 possui cadastro?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RegisterPage, \"sedbgev3UypdfPO30ttru9diRis=\", false, function () {\n  return [useCookies];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["axios","Link","Navigate","useState","useEffect","useCookies","Navbar","RegisterPage","message","setMessage","cookies","setCookie","cadastrar","e","preventDefault","email","document","querySelector","value","password","confirmpassword","post","then","res","data","token","toString","catch","response","user"],"sources":["/mnt/c/Users/Felip/Desktop/tokenlab/events-manager/frontend/src/Screens/registerPage.js"],"sourcesContent":["import axios from \"axios\";\nimport { Link, Navigate  } from \"react-router-dom\"\nimport { useState, useEffect } from 'react'\nimport { useCookies } from \"react-cookie\";\nimport Navbar from \"../Components/navbar\";\nimport \"./css/registerPage.css\"\n\nfunction RegisterPage() {\n    const [message, setMessage] = useState(null);\n\n    const [cookies, setCookie] = useCookies([\"user\"]);\n\n    const cadastrar = async (e) => {\n        e.preventDefault();\n        let email = document.querySelector(\"#email\").value;\n        let password = document.querySelector(\"#senha\").value;\n        let confirmpassword = document.querySelector(\"#senhaConf\").value;\n\n        if (!email || !password) return setMessage(\"Dados insuficientes\");;\n\n        if (password !== confirmpassword) {\n            setMessage(\"As senhas são diferentes\");\n            return;\n        } \n        \n        await axios.post(\n            \"http://localhost:5300/api/users/cadastrar\",\n            { email:email, password:password },\n        )\n        .then(res => {\n            setCookie('user', res.data.token.toString());\n        }) .catch(e => {\n            setMessage(e.response.data);\n        })\n    }\n\n    return (\n    <>\n    {cookies.user && <Navigate to=\"/myEvents\"/>}\n    <Navbar/>\n    <div className=\"RegisterPageBody\">\n        <form onSubmit={cadastrar} className=\"register-form\">\n        <h2>Cadastrar</h2>\n        <label>Email:</label>\n        <input id=\"email\" type=\"email\" placeholder=\"email\"/>\n        <label>Senha:</label>\n        <input id=\"senha\" type=\"password\" placeholder=\"password\"/>\n        <label>Senha de confirmação:</label>\n        <input id=\"senhaConf\" type=\"password\" placeholder=\"confirm password\"/>\n        <button type=\"submit\">Cadastrar</button>\n        {message && <p>{message}</p>}\n        <Link to=\"/login\" className=\"register-link-login\">Já possui cadastro?</Link>\n        </form>\n    </div>\n    </>\n    );\n}\n\nexport default RegisterPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}