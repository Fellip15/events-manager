{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Felip/Desktop/tokenlab/frontend/src/Screens/myNotes.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { register } from \"../Actions/userActions\";\nimport { useCookies } from \"react-cookie\";\nimport Lista from \"../Components/listEvents\";\nimport \"./css/myEvents.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyNotes() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [cookies, setCookie, removeCookie] = useCookies(['user']);\n  const [currState, setState] = useState({\n    'events': [],\n    'pulledEvents': false\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function fetchData() {\n      if (!cookies.user) {\n        navigate(\"/login\");\n      } else {\n        await axios.post(\"http://localhost:5300/api/users/token\", {\n          token: cookies.user\n        }).then(res => {\n          setEmail(res.data.email);\n          setId(res.data.id);\n        });\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  function changePulledEvents() {\n    let stateCopy = JSON.parse(JSON.stringify(currState));\n    stateCopy.pulledEvents = false;\n    setState(stateCopy);\n  }\n\n  function listas() {\n    currState.pulledEvents = true;\n    return /*#__PURE__*/_jsxDEV(Lista, {\n      id: id,\n      refresh: changePulledEvents\n    }, id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this);\n  }\n\n  function logout() {\n    removeCookie('user');\n    navigate('/login');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"MyNotesBody\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), id && listas()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyNotes, \"N58ce0SbIKi/t6cFOk1ZuciRWf8=\", false, function () {\n  return [useCookies, useNavigate];\n});\n\n_c = MyNotes;\nexport default MyNotes;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyNotes\");","map":{"version":3,"names":["axios","Link","useNavigate","useState","useEffect","register","useCookies","Lista","MyNotes","email","setEmail","id","setId","cookies","setCookie","removeCookie","currState","setState","navigate","fetchData","user","post","token","then","res","data","changePulledEvents","stateCopy","JSON","parse","stringify","pulledEvents","listas","logout"],"sources":["/mnt/c/Users/Felip/Desktop/tokenlab/frontend/src/Screens/myNotes.js"],"sourcesContent":["import axios from \"axios\";\nimport { Link, useNavigate  } from \"react-router-dom\"\nimport { useState, useEffect } from 'react'\nimport { register } from \"../Actions/userActions\";\nimport { useCookies } from \"react-cookie\";\nimport Lista from \"../Components/listEvents\"\nimport \"./css/myEvents.css\";\n\nfunction MyNotes() {\n    const [email, setEmail] = useState(\"\");\n    const [id, setId] = useState(\"\");\n    const [cookies, setCookie, removeCookie] = useCookies(['user']);\n\n    const [currState, setState] = useState({ 'events' : [], 'pulledEvents' : false });\n\n    const navigate = useNavigate ();\n    useEffect(() => {\n        async function fetchData() {\n            if (!cookies.user) {\n                navigate(\"/login\");\n            } else {\n                await axios.post(\"http://localhost:5300/api/users/token\", {token: cookies.user})\n                .then(res => {\n                    setEmail(res.data.email);\n                    setId(res.data.id);\n                });\n            }\n        } \n        fetchData();\n    }, [])\n\n    function changePulledEvents() {\n        let stateCopy = JSON.parse(JSON.stringify(currState));\n        stateCopy.pulledEvents = false;\n        setState(stateCopy);\n    }\n\n    function listas() {\n        currState.pulledEvents = true;\n        return (<Lista key={id} id={id} refresh={changePulledEvents}/>)\n    }\n\n    function logout() {\n        removeCookie('user');\n        navigate('/login');\n    }\n\n    return (\n    <div className=\"MyNotesBody\">\n        <button onClick={logout}>Logout</button>\n        {id && listas()}\n    </div>\n    );\n}\n\nexport default MyNotes;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,WAAf,QAAmC,kBAAnC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAO,oBAAP;;;AAEA,SAASC,OAAT,GAAmB;EAAA;;EACf,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,EAAD,EAAKC,KAAL,IAAcT,QAAQ,CAAC,EAAD,CAA5B;EACA,MAAM,CAACU,OAAD,EAAUC,SAAV,EAAqBC,YAArB,IAAqCT,UAAU,CAAC,CAAC,MAAD,CAAD,CAArD;EAEA,MAAM,CAACU,SAAD,EAAYC,QAAZ,IAAwBd,QAAQ,CAAC;IAAE,UAAW,EAAb;IAAiB,gBAAiB;EAAlC,CAAD,CAAtC;EAEA,MAAMe,QAAQ,GAAGhB,WAAW,EAA5B;EACAE,SAAS,CAAC,MAAM;IACZ,eAAee,SAAf,GAA2B;MACvB,IAAI,CAACN,OAAO,CAACO,IAAb,EAAmB;QACfF,QAAQ,CAAC,QAAD,CAAR;MACH,CAFD,MAEO;QACH,MAAMlB,KAAK,CAACqB,IAAN,CAAW,uCAAX,EAAoD;UAACC,KAAK,EAAET,OAAO,CAACO;QAAhB,CAApD,EACLG,IADK,CACAC,GAAG,IAAI;UACTd,QAAQ,CAACc,GAAG,CAACC,IAAJ,CAAShB,KAAV,CAAR;UACAG,KAAK,CAACY,GAAG,CAACC,IAAJ,CAASd,EAAV,CAAL;QACH,CAJK,CAAN;MAKH;IACJ;;IACDQ,SAAS;EACZ,CAbQ,EAaN,EAbM,CAAT;;EAeA,SAASO,kBAAT,GAA8B;IAC1B,IAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAed,SAAf,CAAX,CAAhB;IACAW,SAAS,CAACI,YAAV,GAAyB,KAAzB;IACAd,QAAQ,CAACU,SAAD,CAAR;EACH;;EAED,SAASK,MAAT,GAAkB;IACdhB,SAAS,CAACe,YAAV,GAAyB,IAAzB;IACA,oBAAQ,QAAC,KAAD;MAAgB,EAAE,EAAEpB,EAApB;MAAwB,OAAO,EAAEe;IAAjC,GAAYf,EAAZ;MAAA;MAAA;MAAA;IAAA,QAAR;EACH;;EAED,SAASsB,MAAT,GAAkB;IACdlB,YAAY,CAAC,MAAD,CAAZ;IACAG,QAAQ,CAAC,QAAD,CAAR;EACH;;EAED,oBACA;IAAK,SAAS,EAAC,aAAf;IAAA,wBACI;MAAQ,OAAO,EAAEe,MAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKtB,EAAE,IAAIqB,MAAM,EAFjB;EAAA;IAAA;IAAA;IAAA;EAAA,QADA;AAMH;;GA7CQxB,O;UAGsCF,U,EAI1BJ,W;;;KAPZM,O;AA+CT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}